<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>openHAB Persistence Data Export</title>
    <link
      href="vendor/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="vendor/css/flatpickr.min.css"
      rel="stylesheet"
    />
    <link href="style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>openHAB Persistence Export</h1>
        <p>Export data from openHAB's persistence.</p>
      </div>

      <!-- Progress Indicator -->
      <div class="progress-container">
        <div class="progress-step active" data-step="1">
          <div class="step-number">1</div>
          <div class="step-label">Item</div>
        </div>
        <div class="progress-line"></div>
        <div class="progress-step" data-step="2">
          <div class="step-number">2</div>
          <div class="step-label">Date Range</div>
        </div>
        <div class="progress-line"></div>
        <div class="progress-step" data-step="3">
          <div class="step-number">3</div>
          <div class="step-label">Format</div>
        </div>
        <div class="progress-line"></div>
        <div class="progress-step" data-step="4">
          <div class="step-number">4</div>
          <div class="step-label">Download</div>
        </div>
      </div>

      <!-- Form -->
      <div class="form-container">
        <form id="exportForm">
          <!-- Step 1: Item Name Input -->
          <div class="step-content active" data-step="1">
            <div class="step-header">
              <h2>Item Name</h2>
              <p>Enter the name of the Item to export</p>
            </div>
            <div class="form-section">
              <input
                type="text"
                id="itemName"
                name="itemName"
                class="form-control"
                placeholder="Enter Item name"
                required
              />
              <small class="error-text" id="itemNameError"></small>
            </div>
          </div>

          <!-- Step 2: Date Range Picker -->
          <div class="step-content" data-step="2">
            <div class="step-header">
              <h2>Date Range</h2>
              <p>Select the time period for your export</p>
            </div>
            <div class="form-section">
              <input
                type="text"
                id="dateRange"
                name="dateRange"
                class="form-control"
                placeholder="Select date range"
                required
              />
              <small class="error-text" id="dateRangeError"></small>
            </div>
          </div>

          <!-- Step 3: File Format Selection -->
          <div class="step-content" data-step="3">
            <div class="step-header">
              <h2>File Format</h2>
              <p>Choose the output format for your export</p>
            </div>
            <div class="form-section">
              <div class="format-buttons">
                <input
                  type="radio"
                  id="csvFormat"
                  name="fileFormat"
                  value="CSV"
                  checked
                />
              <label for="csvFormat" class="format-button">
                <div class="format-header">
                  <svg class="format-icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="18" height="18" rx="2"/>
                    <line x1="9" y1="3" x2="9" y2="21"/>
                    <line x1="15" y1="3" x2="15" y2="21"/>
                    <line x1="3" y1="9" x2="21" y2="9"/>
                    <line x1="3" y1="15" x2="21" y2="15"/>
                  </svg>
                  <span class="format-name">CSV</span>
                </div>
                <span class="format-description">Comma-separated values</span>
              </label>
                <input
                  type="radio"
                  id="jsonFormat"
                  name="fileFormat"
                  value="JSON"
                />
              <label for="jsonFormat" class="format-button">
                <div class="format-header">
                  <svg class="format-icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2v-4M9 21H5a2 2 0 0 1-2-2v-4"/>
                    <circle cx="9" cy="12" r="1"/>
                  </svg>
                  <span class="format-name">JSON</span>
                </div>
                <span class="format-description">JavaScript Object Notation</span>
              </label>
              </div>
            </div>
          </div>

          <!-- Step 4: Download -->
          <div class="step-content" data-step="4">
            <div class="step-header">
              <h2>Download</h2>
              <p>Your export is ready! Click the button below to download.</p>
            </div>
            <div class="download-container">
              <button type="button" class="download-btn" id="downloadBtn">
                <svg class="download-icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                  <polyline points="7 10 12 15 17 10"/>
                  <line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
                <span>Download File</span>
              </button>
            </div>
          </div>

          <!-- Navigation Buttons -->
          <div class="button-group">
            <button type="button" class="btn btn-secondary" id="prevBtn" style="display: none;">
              Previous
            </button>
            <button type="button" class="btn btn-primary" id="nextBtn">
              Next
            </button>
            <button type="submit" class="btn btn-primary" id="submitBtn" style="display: none;">
              Export Data
            </button>
            <button type="button" class="btn btn-secondary" id="restartBtn" style="display: none;">
              Start Over
            </button>
          </div>
        </form>
      </div>
    </div>

    <script src="vendor/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/js/flatpickr.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
